/*! Infinite Pagination for EmberJS
* (c) 2013 Jeremy Walker <jez.walker@gmail.com>
* MIT Licensed.
*
* Written by iHiD (Jeremy Walker) - Based on an idea by @pangratz
*
* https://github.com/iHiD/ember-infinite-pagination
*/
(function(){var e;window.IHID||(window.IHID={}),window.IHID.InfinitePagination={setupRoute:function(e,t,n){var i;return i=[],t.set("currentPage",1),t.set("searchModel",e),t.set("content",i),n?t.updateData():void 0}},e='{{#if isLoading}}\n  Fetching some more stuff <img width="10" src="img/ajax-loader.gif" />\n{{else}}\n  {{#if canLoadMore}}\n    <a {{action "loadMore" }}> click to load more</a>\n  {{else}}\n    <strong><em>no more items</em></strong>\n  {{/if}}\n{{/if}}',IHID.InfinitePagination.LoadMoreView=Ember.View.extend({template:Ember.Handlebars.compile(e),didInsertElement:function(){var e=this;return this.$().bind("inview",function(t,n){return n?Ember.tryInvoke(e.get("controller"),"loadMore"):void 0})}})}).call(this),function(){IHID.InfinitePagination.ControllerMixin=Ember.Mixin.create(Ember.Evented,{canLoadMore:!0,currentPage:1,isLoading:!1,resetLoadMore:function(){return this.set("currentPage",1)},loadMore:function(){return this.get("canLoadMore")?(this.incrementProperty("currentPage"),this.updateData()):void 0},hasItems:function(){return this.get("content.length")>0}.property("content.length"),search:function(){return this.set("currentPage",1),this.get("model").clear(),this.updateData()},updateData:function(){var e;return this.set("isLoading",!0),e=this,this.get("searchModel").find(this.paginationParams()).addObserver("isLoaded",function(){return e.set("isLoading",!1),e.get("content").addObjects(this)})},paginationParams:function(){return{page:this.get("currentPage")}}})}.call(this);